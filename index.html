<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Gerador de Wallpaper Personalizado</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 20px;
      background: linear-gradient(135deg, #1e1e1e, #333);
      color: #fff;
    }
    h2 {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-top: 15px;
    }
    input, select {
      margin-top: 5px;
      padding: 5px;
      font-size: 16px;
      border-radius: 5px;
      border: none;
    }
    canvas {
      margin-top: 20px;
      border: 2px solid #fff;
      border-radius: 10px;
    }
    a#downloadLink {
      display: inline-block;
      margin-top: 15px;
      padding: 10px 20px;
      background: #4caf50;
      color: #fff;
      text-decoration: none;
      border-radius: 5px;
      transition: background 0.3s;
    }
    a#downloadLink:hover {
      background: #45a049;
    }
  </style>
</head>
<body>

  <section class="seletor-wallpaper">
    <h2>Crie seu Wallpaper Personalizado</h2>

    <label for="time">Escolha seu time:</label>
    <select id="time">
      <option value="Fla.png">Flamengo</option>
      <option value="Pal.png">Palmeiras</option>
      <option value="Cor.png">Corinthians</option>
      <option value="San.png">Santos</option>
      <!-- Adicione mais conforme quiser -->
    </select>

    <label for="nome">Digite seu nome:</label>
    <input type="text" id="nome" placeholder="Seu nome">

    <label for="corTexto">Escolha a cor do texto:</label>
    <input type="color" id="corTexto" value="#ffffff">

    <label for="fonteTexto">Escolha a fonte:</label>
    <select id="fonteTexto">
      <option value="Arial">Arial</option>
      <option value="Impact">Impact</option>
      <option value="Comic Sans MS">Comic Sans</option>
      <option value="Courier New">Courier</option>
    </select>

    <label for="posicaoTexto">Posição do nome:</label>
    <select id="posicaoTexto">
      <option value="top">Superior</option>
      <option value="middle">Central</option>
      <option value="bottom" selected>Inferior</option>
    </select>

    <label for="opacidade">Opacidade do escudo:</label>
    <input type="range" id="opacidade" min="0.1" max="1" step="0.1" value="1">

    <canvas id="canvas" width="1080" height="1920"></canvas>

    <a id="downloadLink" download="wallpaper.png">Baixar Wallpaper</a>
  </section>

  <script>
    const time = document.getElementById('time');
    const nome = document.getElementById('nome');
    const corTexto = document.getElementById('corTexto');
    const fonteTexto = document.getElementById('fonteTexto');
    const posicaoTexto = document.getElementById('posicaoTexto');
    const opacidade = document.getElementById('opacidade');
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const link = document.getElementById('downloadLink');

    function atualizarWallpaper() {
      const img = new Image();
      img.crossOrigin = "anonymous"; // Caso use imagens de servidores externos
      img.src = time.value;

      img.onload = function() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        // Ajusta opacidade do escudo
        ctx.globalAlpha = parseFloat(opacidade.value);
        ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
        ctx.globalAlpha = 1;

        const texto = nome.value.trim() || "Seu Nome Aqui";
        const cor = corTexto.value;
        const fonte = fonteTexto.value;
        const posicao = posicaoTexto.value;

        let y;
        if (posicao === "top") y = 150;
        else if (posicao === "middle") y = canvas.height / 2;
        else y = canvas.height - 150;

        ctx.font = `bold 60px ${fonte}`;
        ctx.fillStyle = cor;
        ctx.strokeStyle = "#000";
        ctx.lineWidth = 4;
        ctx.textAlign = "center";

        // Sombra no texto
        ctx.shadowColor = "rgba(0,0,0,0.5)";
        ctx.shadowBlur = 10;
        ctx.shadowOffsetX = 4;
        ctx.shadowOffsetY = 4;

        ctx.strokeText(texto, canvas.width / 2, y);
        ctx.fillText(texto, canvas.width / 2, y);

        ctx.shadowColor = "transparent"; // limpa sombra

        // Atualiza link de download
        link.href = canvas.toDataURL();
      }
    }

    // Atualiza ao mudar qualquer configuração
    [time, nome, corTexto, fonteTexto, posicaoTexto, opacidade].forEach(el => {
      el.addEventListener('input', atualizarWallpaper);
    });

    // Gera inicialmente
    atualizarWallpaper();
  </script>

</body>
</html>
